clear_unbinding_effect = {
	clr_character_flag = unbinding_cheap_open
	clr_character_flag = unbinding_middle_open
	clr_character_flag = unbinding_grand_open
	clr_character_flag = unbinding_cheap_festivities
	clr_character_flag = unbinding_middle_festivities
	clr_character_flag = unbinding_grand_festivities
	clr_character_flag = unbinding_festival_open
	clr_character_flag = festival_event_happened
	clr_character_flag = ancrel_remove_firedancers
	clr_character_flag = unbinding_festival
	clr_character_flag = do_not_disturb
	remove_character_modifier = holding_unbinding_festival
}

clear_nile_flooding_effect = {
	remove_province_modifier = VIET_nile_flood_good
	remove_province_modifier = VIET_nile_flood_great
	remove_province_modifier = VIET_nile_flood_overflow
	remove_province_modifier = VIET_nile_flood_poor
}

banish_to_monastery_effect = {
	# expand this to allow banishing to a random holy order
	# should one exist for the (liege's?) religion
	if = {
		limit = { is_female = yes }
		add_trait = nun
	}
	if = {
		limit = { is_female = no }
		add_trait = monk
	}
	liege = {
		random_realm_lord = {
			limit = { is_theocracy = yes }

			move_character = PREVPREV
		}
	}
}

# reduces prosperity by 3 levels, adding depopulation if necessary
devestate_province_effect = {
	if = {
		limit = {
			OR = {
				has_province_modifier = depopulated_1
				has_province_modifier = depopulated_2
			}
			NOR = {
				has_province_modifier = prosperity_1
				has_province_modifier = prosperity_2
				has_province_modifier = prosperity_3
			}
		}
		remove_province_modifier = depopulated_1
		remove_province_modifier = depopulated_2
		add_province_modifier = {
			name = depopulated_3
			duration = -1
		}
		clr_province_flag = recent_depopulation_1
		clr_province_flag = recent_depopulation_2
		set_province_flag = recent_depopulation_3
	}
	if = {
		limit = {
			has_province_modifier = prosperity_1
		}
		remove_province_modifier = prosperity_1
		add_province_modifier = {
			name = depopulated_2
			duration = -1
		}
	}
	if = {
		limit = {
			has_province_modifier = prosperity_2
		}
		remove_province_modifier = prosperity_2
		add_province_modifier = {
			name = depopulated_1
			duration = -1
		}
	}
	if = {
		limit = {
			has_province_modifier = prosperity_3
		}
		remove_province_modifier = prosperity_3
	}

	set_variable = { which = prosperity_value value = 0 }
}

decrease_prosperity_effect = {
	if = {
		limit = {
			has_province_modifier = prosperity_1
		}
		remove_province_modifier = prosperity_1
		set_variable = { which = prosperity_value value = 0 }
	}
	if = {
		limit = {
			has_province_modifier = prosperity_2
		}
		remove_province_modifier = prosperity_2
		add_province_modifier = {
			name = prosperity_1
			duration = -1
		}
		set_variable = { which = prosperity_value value = 100 }
	}
	if = {
		limit = {
			has_province_modifier = prosperity_3
		}
		remove_province_modifier = prosperity_3
		add_province_modifier = {
			name = prosperity_2
			duration = -1
		}
		set_variable = { which = prosperity_value value = 250 }
	}
}